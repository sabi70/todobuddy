{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport store from \"@/store\";\nimport axios from \"axios\";\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      // Constant variables\n      LOGIN_URL: \"http://192.168.1.110:8000/users/login/\",\n      // Dynamic variables\n      showPassword: false,\n      requestLoading: false,\n      username: \"\",\n      password: \"\",\n      isValid: true,\n      // The rules for username, search pattern is in RegExp\n      usernameRules: {\n        required: value => !!value || \"Please, fill the field!\",\n        whiteSpace: value => !/\\s/.test(value) || \"The username must be without withespace!\",\n        nonWord: value => !/[^a-zA-Z0-9_]/.test(value) || \"The username must be in Latin letters!\"\n      },\n      // The rules for password, search pattern is in RegExp\n      passwordRules: {\n        required: value => !!value || \"Please, fill the field!\",\n        whiteSpace: value => !/\\s/.test(value) || \"The password must be without withespace!\",\n        nonWord: value => !/[^a-zA-Z0-9_]/.test(value) || \"The password must be in Latin letters!\"\n      },\n      // The username and password creation tips\n      rulesDescription: \"When you create an account use these standarts to make strong\\\n        username and secure password: number in password, at least one\\\n        upper case letter, at least one lower case letter, no whitespace,\\\n        min length of password must be greater than 4, max length of password\\\n        must be lower than 20, the letters of password must be in Latin.\"\n    };\n  },\n  methods: {\n    // The authentication method that makes API post request call to login registry\n    login() {\n      // Checking if the rules of username and password fields are correct, if correct allow make request\n      if (this.isValid == true) {\n        this.requestLoading = true;\n        // Try to make post request\n        try {\n          axios.post(this.LOGIN_URL, {\n            username: this.username,\n            password: this.password\n          }).then(response => {\n            // Handling response of API call\n            // If response status is equal to 200\n            //    store username and auth state in cookies\n            //    update vuex storage with new values\n            //    redirect the user to main page\n            if (response.status == 200) {\n              this.requestLoading = false;\n              this.$cookies.set(\"user\", this.username, \"1d\");\n              this.$cookies.set(\"isAuthenticated\", true, \"1d\");\n              store.dispatch(\"updateUser\", {\n                user: this.username,\n                isAuthenticated: true\n              });\n              this.$router.push(\"/\");\n            } else {\n              // if the response status code is not equal to 200\n              // show alert dialog window with that error\n              console.log(response.status);\n            }\n          });\n          this.requestLoading = false;\n        } catch (err) {\n          // Catching errors of post request method\n          console.log(err);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["store","axios","name","data","LOGIN_URL","showPassword","requestLoading","username","password","isValid","usernameRules","required","value","whiteSpace","test","nonWord","passwordRules","rulesDescription","methods","login","post","then","response","status","$cookies","set","dispatch","user","isAuthenticated","$router","push","console","log","err"],"sources":["/home/sabi/Desktop/ToDo/frontend/todo/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <v-container fluid>\n    <v-row>\n      <v-col>\n        <v-responsive class=\"mx-auto\" max-width=\"350\">\n          <v-card\n            style=\"\n              backdrop-filter: blur(10px);\n              background-color: rgba(255, 255, 255, 0.2);\n              box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\n              border-radius: 10px;\n            \"\n            :loading=\"requestLoading\"\n            class=\"pa-4 mt-4 mx-auto\"\n            title=\"User Log-in\"\n            variant=\"outlined\"\n          >\n            <v-form v-model=\"isValid\">\n              <v-text-field\n                hide-details=\"auto\"\n                label=\"Username\"\n                placeholder=\"Linus\"\n                prepend-icon=\"mdi-account\"\n                variant=\"underlined\"\n                v-model=\"username\"\n                counter=\"20\"\n                validate-on=\"input\"\n                required\n                :rules=\"[\n                  usernameRules.required,\n                  usernameRules.whiteSpace,\n                  usernameRules.nonWord,\n                ]\"\n              ></v-text-field>\n              <v-text-field\n                hide-details=\"auto\"\n                label=\"Password\"\n                placeholder=\"qwerty\"\n                prepend-icon=\"mdi-lock\"\n                variant=\"underlined\"\n                v-model=\"password\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                required\n                :rules=\"[\n                  passwordRules.required,\n                  passwordRules.whiteSpace,\n                  passwordRules.nonWord,\n                ]\"\n              >\n                <template v-slot:append>\n                  <v-icon\n                    :icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                    @click=\"showPassword = !showPassword\"\n                  ></v-icon>\n                </template>\n              </v-text-field>\n              <v-card color=\"surface-variant\" variant=\"tonal\" class=\"mt-6\">\n                <v-card-text class=\"text-medium-emphasis text-caption\">\n                  {{ rulesDescription }}\n                </v-card-text>\n              </v-card>\n              <v-btn\n                :disabled=\"!isValid\"\n                @click=\"login\"\n                color=\"success\"\n                class=\"mt-4\"\n                size=\"large\"\n                type=\"submit\"\n                block\n              >\n                sign-in\n              </v-btn>\n            </v-form>\n          </v-card>\n        </v-responsive>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n<script>\nimport store from \"@/store\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      // Constant variables\n      LOGIN_URL: \"http://192.168.1.110:8000/users/login/\",\n      // Dynamic variables\n      showPassword: false,\n      requestLoading: false,\n      username: \"\",\n      password: \"\",\n      isValid: true,\n      // The rules for username, search pattern is in RegExp\n      usernameRules: {\n        required: (value) => !!value || \"Please, fill the field!\",\n        whiteSpace: (value) =>\n          !/\\s/.test(value) || \"The username must be without withespace!\",\n        nonWord: (value) =>\n          !/[^a-zA-Z0-9_]/.test(value) ||\n          \"The username must be in Latin letters!\",\n      },\n      // The rules for password, search pattern is in RegExp\n      passwordRules: {\n        required: (value) => !!value || \"Please, fill the field!\",\n        whiteSpace: (value) =>\n          !/\\s/.test(value) || \"The password must be without withespace!\",\n        nonWord: (value) =>\n          !/[^a-zA-Z0-9_]/.test(value) ||\n          \"The password must be in Latin letters!\",\n      },\n      // The username and password creation tips\n      rulesDescription:\n        \"When you create an account use these standarts to make strong\\\n        username and secure password: number in password, at least one\\\n        upper case letter, at least one lower case letter, no whitespace,\\\n        min length of password must be greater than 4, max length of password\\\n        must be lower than 20, the letters of password must be in Latin.\",\n    };\n  },\n  methods: {\n    // The authentication method that makes API post request call to login registry\n    login() {\n      // Checking if the rules of username and password fields are correct, if correct allow make request\n      if (this.isValid == true) {\n        this.requestLoading = true;\n        // Try to make post request\n        try {\n          axios\n            .post(this.LOGIN_URL, {\n              username: this.username,\n              password: this.password,\n            })\n            .then((response) => {\n              // Handling response of API call\n              // If response status is equal to 200\n              //    store username and auth state in cookies\n              //    update vuex storage with new values\n              //    redirect the user to main page\n              if (response.status == 200) {\n                this.requestLoading = false;\n                this.$cookies.set(\"user\", this.username, \"1d\");\n                this.$cookies.set(\"isAuthenticated\", true, \"1d\");\n                store.dispatch(\"updateUser\", {\n                  user: this.username,\n                  isAuthenticated: true,\n                });\n                this.$router.push(\"/\");\n              } else {\n                // if the response status code is not equal to 200\n                // show alert dialog window with that error\n                console.log(response.status);\n              }\n            });\n          this.requestLoading = false;\n        } catch (err) {\n          // Catching errors of post request method\n          console.log(err);\n        }\n      }\n    },\n  },\n};\n</script>\n"],"mappings":";AAgFA,OAAOA,KAAI,MAAO,SAAS;AAC3B,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACL;MACAC,SAAS,EAAE,wCAAwC;MACnD;MACAC,YAAY,EAAE,KAAK;MACnBC,cAAc,EAAE,KAAK;MACrBC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,IAAI;MACb;MACAC,aAAa,EAAE;QACbC,QAAQ,EAAGC,KAAK,IAAK,CAAC,CAACA,KAAI,IAAK,yBAAyB;QACzDC,UAAU,EAAGD,KAAK,IAChB,CAAC,IAAI,CAACE,IAAI,CAACF,KAAK,KAAK,0CAA0C;QACjEG,OAAO,EAAGH,KAAK,IACb,CAAC,eAAe,CAACE,IAAI,CAACF,KAAK,KAC3B;MACJ,CAAC;MACD;MACAI,aAAa,EAAE;QACbL,QAAQ,EAAGC,KAAK,IAAK,CAAC,CAACA,KAAI,IAAK,yBAAyB;QACzDC,UAAU,EAAGD,KAAK,IAChB,CAAC,IAAI,CAACE,IAAI,CAACF,KAAK,KAAK,0CAA0C;QACjEG,OAAO,EAAGH,KAAK,IACb,CAAC,eAAe,CAACE,IAAI,CAACF,KAAK,KAC3B;MACJ,CAAC;MACD;MACAK,gBAAgB,EACd;;;;;IAKJ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,KAAKA,CAAA,EAAG;MACN;MACA,IAAI,IAAI,CAACV,OAAM,IAAK,IAAI,EAAE;QACxB,IAAI,CAACH,cAAa,GAAI,IAAI;QAC1B;QACA,IAAI;UACFL,KAAI,CACDmB,IAAI,CAAC,IAAI,CAAChB,SAAS,EAAE;YACpBG,QAAQ,EAAE,IAAI,CAACA,QAAQ;YACvBC,QAAQ,EAAE,IAAI,CAACA;UACjB,CAAC,EACAa,IAAI,CAAEC,QAAQ,IAAK;YAClB;YACA;YACA;YACA;YACA;YACA,IAAIA,QAAQ,CAACC,MAAK,IAAK,GAAG,EAAE;cAC1B,IAAI,CAACjB,cAAa,GAAI,KAAK;cAC3B,IAAI,CAACkB,QAAQ,CAACC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAClB,QAAQ,EAAE,IAAI,CAAC;cAC9C,IAAI,CAACiB,QAAQ,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC;cAChDzB,KAAK,CAAC0B,QAAQ,CAAC,YAAY,EAAE;gBAC3BC,IAAI,EAAE,IAAI,CAACpB,QAAQ;gBACnBqB,eAAe,EAAE;cACnB,CAAC,CAAC;cACF,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;YACxB,OAAO;cACL;cACA;cACAC,OAAO,CAACC,GAAG,CAACV,QAAQ,CAACC,MAAM,CAAC;YAC9B;UACF,CAAC,CAAC;UACJ,IAAI,CAACjB,cAAa,GAAI,KAAK;QAC7B,EAAE,OAAO2B,GAAG,EAAE;UACZ;UACAF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;QAClB;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}